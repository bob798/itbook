# HTTPS知识储备

### 加密算法
1. 非对称加密算法：RSA，DSA/DSS 
2. 对称加密算法：AES，RC4，3DES 
3. HASH算法：MD5，SHA1，SHA256


### 加解密过程

加密：公钥加密，私钥解密
认证：私钥加密，公钥解密


如果A给B发送一个加密的有数字签名的文件，会怎么样呢？
	
1. 首先A有自己的公钥和私钥：A_public_key, A_private_key
2. B也有自己的公钥和私钥：   B_public_key, B_private_key
     
过程如下     
1. A和B互换公钥
2. A将文件用hash算法生成摘要，用A_private_key对摘要加密，得到的就叫数字签名
3. A用B_public_key对文件加密
4. 将加密的文件和数字签名一起发给B

------B收到内容后

1. 用B_private_key解密文件，得到明文
2. 用A_public_key解密数字签名，得到内容摘要
3. 将明文的文件内容用同样hash算法得到摘要，与摘要对比。相同则证明内容和来源都正确。


解密数字签名时，需要事先知道发送方A的公钥，那怎么才知道自己得到的公钥是发送方A的呢？例如：C知道B的公钥，然后偷偷把B手里A的公钥A_public_key换成自己的公C_public_key，那么以后C给B发送的东西，B还一直以为是A发送的。因为B不知道自己手里公钥就是A的。怎么办呢？使用数字证书


A找证书中心（CA）申请自己的证书，CA把A的公钥和一些信息作为证书内容写入，然后用CA自己的私钥生成数字签名一并写入证书。A给B发数据时把用B的公钥加密的数据、A的数字签名、A的数字证书一起发过去。B的电脑安装有根证书（操作系统带的，知道CA的公钥），用CA的公钥验证A的数字证书里面签名的合法性，合法后从证书内容里读出A的公钥。再用A的公钥解密A的数字签名验证数据完成性。最后用B的私钥解密数据。


### 数字证书可以伪造吗？
不能。数字证书里有CA的数字签名，签名是由证书内容的哈希摘要用CA的私钥加密的。用CA的公钥验证签名的合法性就可以验证证书的真假。


### 参考资料
[公钥与私钥，HTTPS详解]
(http://www.cnblogs.com/shijingjing07/p/5965792.html)